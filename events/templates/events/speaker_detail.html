{% extends 'layout/base.html' %}
{% load desparchado_tags %}

{% block title %}{{ speaker.name }}{% endblock %}

{% block meta %}
  <meta property="og:title" content="{{ speaker.name }}">
  <meta property="og:description" content="{{ speaker.description|truncatewords:200 }}">
  <meta property="og:image" content="https://desparchado.co{{ speaker.get_image_url }}">

  <meta name="twitter:title" content="{{ speaker.name }}">
  <meta name="twitter:description" content="{{ speaker.description|truncatewords:200 }}">
{% endblock %}

{% block google-structured-markup %}
<!-- JSON-LD markup generated by Google Structured Data Markup Helper. -->
<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Person",
  "name" : "{{ speaker.name }}",
  "image" : "https://desparchado.co{{ speaker.get_image_url }}"
}
</script>
{% endblock %}

{% block content %}
<section id="speaker-detail" class="container">

  <div class="speaker-heading">
    <h1 class="speaker-title">{{ speaker.name }}</h1>
    {% if speaker.image %}
      <div class="image" style="background-image: url('{{ speaker.get_image_url }}');"
         title="{{ speaker.name }}"></div>
    {% endif %}
    <div class="speaker-description">{{ speaker.description|markdown }}</div>
  </div>

</section><!--/#speaker-detail-->

{% if user|user_can_edit_speaker:speaker %}
<div class="event-edit text-center">
  <a class="btn btn-primary" href="{% url 'events:speaker_update' speaker.slug %}">
    EDITAR
  </a>
</div>
{% endif %}

<div class="clearfix"></div>

{% if events %}
<section class="my-2">
  <h4>Pr√≥ximos eventos con {{ speaker.name }}</h4>

  {% include 'events/_events_grid.html' %}
</section>
{% endif %}

{% if past_events %}
<section class="my-2">
  <h4>Eventos pasados con {{ speaker.name }}</h4>

  {% include 'events/_events_grid.html' with events=past_events %}
</section>
{% endif %}

{% endblock content %}
